<!DOCTYPE html>
<html lang="en-us">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.18.1" />
    <title>Hikvision FTP Server IP address leads to Zombie Apocalypse</title> 
    
    
    
    <meta name="description" content="description" />
    <meta name="keywords" content='default,keywords,if,no,front,matter' />
    
        <meta name="author" content="Adam Beguelin" />
    
    
    <link rel="stylesheet" href="http://blog.sensr.net/css/bootstrap.min.css" />
    <link rel="stylesheet" href="http://blog.sensr.net/css/highlightjs-themes/androidstudio.css" />
    <link rel="stylesheet" href="http://blog.sensr.net/css/font-awesome.min.css" />
    <link rel="stylesheet" href="http://blog.sensr.net/css/phlat.css" />
    <link rel="stylesheet" href="http://blog.sensr.net/css/cta.css" />
    
        
    
	
	<script>
	!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
	n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
	t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
	document,'script','https://connect.facebook.net/en_US/fbevents.js');
	fbq('init', '327298684323772');
	fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
	src="https://www.facebook.com/tr?id=327298684323772&ev=PageView&noscript=1"
	/></noscript>
	
	
</head>

    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
				<img src="/img/logo-1-4-12.png" alt="Sensr.net Cloud DVR for your Security camera"/>
			</a>
        </div>
		
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/archives/">
                            Archives
                        </a>
                    </li>
                
                    <li>
                        <a href="https://sensr.net/cameras/public">
                            Public Cameras
                        </a>
                    </li>
                
                    <li>
                        <a href="https://sensr.net/auth/users/sign_up">
                            Try Sensr.net Free
                        </a>
                    </li>
                
                    <li>
                        <a href="https://sensr.net/contact">
                            Contact
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</nav>

        <div id="top" class="container">
            <div class="row" id="content-main">
                <div class="col-md-8">
                    <div class="row">
    <div class="col-md-12 content-card">
        <h1>Hikvision FTP Server IP address leads to Zombie Apocalypse</h1>
        
            
            <ul class="list-inline meta">
                <li><i class="fa fa-calendar"></i>November 21, 2016</li>
                <li><i class="fa fa-user"></i>Adam Beguelin</li>
                
                    
                    <li><i class="fa fa-folder"></i><a href="http://blog.sensr.net/categories/hikvision">Hikvision</a>, <a href="http://blog.sensr.net/categories/ip-cameras">IP Cameras</a>, <a href="http://blog.sensr.net/categories/zombies">Zombies</a></li>
                
            </ul>
        
        
    <ul class="list-inline share" style="margin-top: 15px; margin-left: 0px">
        <li class="facebook-share"><a target="_blank" href="http://www.facebook.com/sharer.php?u=http%3a%2f%2fblog.sensr.net%2f2016%2f11%2fhikvision-ftp-server-ip-address-leads-to-zombie-apocalypse%2f"><i class="fa fa-facebook fa-lg"></i>Facebook</a></li>
        <li class="googleplus-share"><a target="_blank" href="https://plus.google.com/share?url=http%3a%2f%2fblog.sensr.net%2f2016%2f11%2fhikvision-ftp-server-ip-address-leads-to-zombie-apocalypse%2f"><i class="fa fa-google-plus fa-lg"></i>Google+</a></li>
        <li class="twitter-share"><a target="_blank" href="https://twitter.com/share?url=http%3a%2f%2fblog.sensr.net%2f2016%2f11%2fhikvision-ftp-server-ip-address-leads-to-zombie-apocalypse%2f&amp;text=Hikvision%20FTP%20Server%20IP%20address%20leads%20to%20Zombie%20Apocalypse"><i class="fa fa-twitter fa-lg"></i>Twitter</a></li>
        <li class="reddit-share"><a target="_blank" href="http://reddit.com/submit?url=http%3a%2f%2fblog.sensr.net%2f2016%2f11%2fhikvision-ftp-server-ip-address-leads-to-zombie-apocalypse%2f&amp;title=Hikvision%20FTP%20Server%20IP%20address%20leads%20to%20Zombie%20Apocalypse"><i class="fa fa-reddit fa-lg"></i>Reddit</a></li>
        <li class="linkedin-share"><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fblog.sensr.net%2f2016%2f11%2fhikvision-ftp-server-ip-address-leads-to-zombie-apocalypse%2f"><i class="fa fa-linkedin fa-lg"></i>LinkedIn</a></li>
        <li class="stumbleupon-share"><a target="_blank" href="http://www.stumbleupon.com/submit?url=http%3a%2f%2fblog.sensr.net%2f2016%2f11%2fhikvision-ftp-server-ip-address-leads-to-zombie-apocalypse%2f&amp;title=Hikvision%20FTP%20Server%20IP%20address%20leads%20to%20Zombie%20Apocalypse"><i class="fa fa-stumbleupon fa-lg"></i>StumbleUpon</a></li>
    </ul>


        <figure >
    
        <img src="/img/zombie-ip-camera.jpg" />
    
    
    <figcaption>
        <h4>Never give up!</h4>
        
    </figcaption>
    
</figure>


<p>Ok, these <a href="https://www.amazon.com/Hikvision-DS-2CD2042WD-I-Network-English-Security/dp/B01DIKF4XG/sensr-20">Hikvision cameras</a> are pretty nice
and seem like great quality for the price.  However, I have one major issue with them, they
don&rsquo;t let you use hostnames for the FTP server.  You have to use an IP address.</p>

<p>

<figure >
    <a href="https://www.amazon.com/Hikvision-DS-2CD2042WD-I-Network-English-Security/dp/B01DIKF4XG/sensr-20">
        <img src="/img/DS-2CD2042WD-I.jpg" />
    </a>
    
    <figcaption>
        <h4>Hikvision DS-2CD2042WD-I Bullet Camera</h4>
        
    </figcaption>
    
</figure>
</p>


<figure >
    
        <img src="/img/hikvision-ftp-setup.png" />
    
    
    <figcaption>
        <h4>Hikvision FTP Setup</h4>
        
    </figcaption>
    
</figure>


<p>Why would they require this?  I suppose for most cameras connect to a server on the local network, thus it won&rsquo;t have a DNS name
anyway, why not just require an IP address? It means that when the camera does connect to the FTP server, it doesn&rsquo;t need to do
a DNS lookup, but that seems like a pretty big trade off. You have to hardwire the IP address into the camera config.</p>

<h2 id="what-about-external-servers">What about external servers?</h2>

<p>If you require an IP address, then you need to find the IP address of the server. At <a href="https://sensr.net">Sensr.net</a> we run FTP servers and we
use hostnames like <code>f0.sensr.net</code>. If you want to use the Hikvision with our service, you need to connect to one of our servers (currently f0 through f9).
But to use the Hikvision, you&rsquo;ll need to find out the IP address of our servers.  In the case of <code>f9.sensr.net</code> you can run <code>nslookup</code> like this:</p>

<pre><code>$ nslookup f9.sensr.net
Server:		8.8.8.8
Address:	8.8.8.8#53

Non-authoritative answer:
Name:	f9.sensr.net
Address: 74.207.245.42
Name:	f9.sensr.net
Address: 96.126.101.33
</code></pre>

<p>However, notice that it returns two different answers.  At Sensr.net we (currently) have two servers that serve as <code>f9.sensr.net</code>.  We do this
for redundancy.  If one of our servers fails, then the other one can take over for it.  Of course this redundancy won&rsquo;t help you
if you hard wire the IP address.  For the Hikvision, just pick one or the other IP addresses and it should work.</p>

<h2 id="what-about-loadbalancing-and-failover">What about loadbalancing and failover?</h2>

<p>This kind of screws up our load balancing and failover.  But at least it works.  However, it only works as long as our servers keep the same IP
address.  What if we upgrade or move a server?  It&rsquo;s IP address will change and your camera won&rsquo;t work anymore.</p>

<h2 id="maybe-security-could-be-compromised-too">Maybe security could be compromised too</h2>

<p>We use servers at <a href="https://www.linode.com">Linode</a> and we might decide to upgrade and get a bigger server at Linode,
or maybe move to <a href="https://aws.amazon.com">AWS</a> or even <a href="https://cloud.google.com/">Google Cloud</a>. In that case,
the IP address that we used to use will get deprecated.  This probably means your camera will stop working.  But it could mean that it starts
uploading to a server that isn&rsquo;t part of Sensr.net!  Let&rsquo;s say we drop the server at Linode, it&rsquo;s pretty likely that Linode will re-use that IP
address for someone else.  That new owner might notice that there are cameras trying to connect to it.  That new owner might also decide to let
those cameras connect and then they could start collecting images that are uploaded by your cameras.  Hmm, that seems like a bad idea.</p>

<h2 id="how-serious-is-this">How serious is this?</h2>

<p>I think we have changed the IP addresses of our upload servers once in 6 years.  So it doesn&rsquo;t happen often.  However, we are working on a
major change and I expect the IP addresses will change in the next year.</p>

<h2 id="what-can-we-do-to-help">What can we do to help?</h2>

<p>Before we change servers and drop the IP addresses for these machines,
we can move over the DNS names (<code>f0.sensr.net .. f9.sensr.net</code>) and see what cameras continue to connect. If all the cameras move over (they won&rsquo;t)
then we don&rsquo;t need to worry.  I&rsquo;m sure there will be cameras left connecting to the old IP addresses.  In this case we can warn our users that they need
to update their cameras.  We&rsquo;ll probably send out an email and give our users some time to make the change.</p>

<h2 id="zombie-cameras">Zombie cameras</h2>


<figure >
    
        <img src="/img/zombiecam.png" />
    
    
    <figcaption>
        <h4>Never give up!</h4>
        
    </figcaption>
    
</figure>


<p>We have quite a few zombie cameras trying to connect to our servers.  Zombies are cameras that used to work with the service, but no longer
are on paid accounts.  This means we don&rsquo;t let them upload images, their logins fail.  But most zombies keep plugging away,  mindlessly attempting
to upload to our servers even though we won&rsquo;t let them.</p>

<p>In the case of these cameras, we may not be able to contact the owners, so after we finally decomission the servers, they may end up connecting to
some new server deployed at <a href="https://www.linode.com">Linode</a>. If the owner of that new server decides to let the zombie connect, they could end up collecting
lots of potentially private images.</p>

<h2 id="iot-gone-mad">IoT gone mad</h2>

<p>This is just one example of how the IoT world is leading to unintended consequences.  People setup cameras so they can be more secure, but
through a sequence of perfectly normal events they end up with something they don&rsquo;t expect.</p>

<p>Maybe we&rsquo;ll ask Linode if they will decommission those IP addresses.  Maybe we&rsquo;ll just keep paying for them.  One thing is for sure, we will
warn users before we release the IP addresses back into the pool.  We&rsquo;ll keep track of how much upload traffic we get to our deprecated
servers.  It might lead to another interesting blog post!</p>

<p>Stay tuned, the Zombie Apocalypse is far from over.</p>

<h2 id="shameless-plug">Shameless plug</h2>

<p>If you&rsquo;re still not afraid of the zombies, we would love to have you as a customer. <a href="https://sensr.net/auth/users/sign_up">Point your IP camera at us</a> and we&rsquo;ll do some useful stuff with what you send us. We have a free trial, so it won&rsquo;t cost you anything.  If you decide not to stick with us, please
delete our FTP server from your camera. It will be as satisfying as shooting a zombie in the head!</p>
        
    <ul class="list-inline tags" style="margin-top: 15px; margin-left: 0px">
        
    </ul>


    </div>
</div>

                    
    
        <div class="row">
            <div class="col-md-12 content-card">
                <div id="disqus_thread"></div>
                <script>
                    (function() {
                        if (window.location.hostname == "localhost") {
                            document.write("Disqus comments are unavailable while serving on localhost or 127.0.0.1");
                            return;
                        }
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        var disqus_shortname = 'sensr';
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
        </div>
    


                </div>
                <div class="col-md-4">
                    <div class="row">
    <div class="col-md-11 col-md-offset-1 card">
        <h5>Search</h5>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
            <div class="input-group">
                <input class="form-control" type="search" name="q" />
                <span class="input-group-btn">
                    <button class="btn btn-custom" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <input type="hidden" name="q" value="site:http://blog.sensr.net/">
        </form>
    </div>
</div>

                    <div class="row">
    <div class="col-md-11 col-md-offset-1 card">
        <h5>Recent Posts</h5>
        <ul class="list-unstyled posts-recent">
            
                <li><a href="http://blog.sensr.net/2017/07/how-to-configure-a-wansview-full-hd-waterproof-camera-ncm751ga/">How to configure a Wansview Full HD Waterproof Camera NCM751GA</a></li>
            
                <li><a href="http://blog.sensr.net/2017/05/an-alternative-to-blink-security-cam/">An Alternative to Blink Security Cam</a></li>
            
                <li><a href="http://blog.sensr.net/2017/05/an-alternative-to-nest-cam/">An Alternative to Nest Cam</a></li>
            
                <li><a href="http://blog.sensr.net/2017/05/ouvis-zv1-camera-not-ready-for-prime-time/">Ouvis ZV1 Camera Not Ready for Prime Time</a></li>
            
                <li><a href="http://blog.sensr.net/2017/04/google-wifi-hack-connecting-to-old-static-ips/">Google Wifi hack: Connecting to old static IPs</a></li>
            
        </ul>
    </div>
</div>

                    
    

    
        <div class="row">
            <div class="col-md-11 col-md-offset-1 card">
                <h5>categories</h5>
                <ul class="list-unstyled posts-recent">
                    
                        <li><a href="http://blog.sensr.net/categories/sensr.net">sensr.net</a></li>
                    
                        <li><a href="http://blog.sensr.net/categories/how-to-guide">how-to-guide</a></li>
                    
                        <li><a href="http://blog.sensr.net/categories/network-cameras">network-cameras</a></li>
                    
                        <li><a href="http://blog.sensr.net/categories/camera-setup">camera-setup</a></li>
                    
                        <li><a href="http://blog.sensr.net/categories/social-networks">social-networks</a></li>
                    
                </ul>
            </div>
        </div>
    

    


                </div>
            </div>
        </div>
        <footer class="footer">

	
    <div class="container">
        <div class="row">

            <div class="col-md-8 col-xs-6">
    <ul class="list-inline links">
        
    </ul>
</div>

            <div class="col-md-4 col-xs-6">
    <ul class="list-inline social-media">
        
        
        
        
        
        
        
        
        
        
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-md-12">
                <p>

						<em>Sensr.net, Inc. © 2009-2016</em>
						Follow us on <a id="icon-twitter" href="http://www.twitter.com/sensr" target="_blank" title="Follow Sensr on Twitter" name="icon-twitter">Twitter</a> 
						<a id="icon-facebook" href="http://www.facebook.com/sensrnet" target="_blank" title="Like Sensr on Facebook" name="icon-facebook">Facebook</a>
			<a href='https://sensr.net/'> <img src="/img/logo-1-4-12.png"></a>
                </p>
            </div>
        </div>
    </div>
</footer>

        <div id="back-to-top" class="hidden">
    <a href="#top" class="well well-sm" onclick="$('html,body').animate({scrollTop:0},'slow');return false;">
        <i class="glyphicon glyphicon-chevron-up"></i> Back to Top
    </a>
</div>
<script src="http://blog.sensr.net/js/jquery-2.2.1.min.js"></script>
<script src="http://blog.sensr.net/js/bootstrap.min.js"></script>
<script src="http://blog.sensr.net/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
    if(($(window).height() + 100) < $(document).height()) {
        $('#back-to-top').removeClass('hidden').affix({
            offset: {
                top: 100
            }
        });
    }
</script>

    


    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-7220796-1', 'auto');
        ga('send', 'pageview');
    </script>




    </body>
</html>
